(function(t){function e(e){for(var r,o,s=e[0],c=e[1],u=e[2],v=0,d=[];v<s.length;v++)o=s[v],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("NavigationDrawer"),n("v-content",[n("router-view")],1)],1)},i=[],o=(n("b64b"),n("96cf"),n("1da1")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{link:"",to:{name:"Home"}}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-home")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Home")])],1)],1),n("v-list-item",{attrs:{link:"",to:{name:"Entry"}}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-brain")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Take a guess")])],1)],1),n("v-list-item",{attrs:{link:"",to:{name:"Guess"}}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-table")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("View the guesses")])],1)],1)],1)],1),n("v-app-bar",{attrs:{app:"",color:"indigo",dark:""}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("v-toolbar-title",[t._v("HART Baby Pool")]),n("v-spacer"),n("v-menu",{attrs:{transition:"slide-y-transition",bottom:"","offset-y":""},scopedSlots:t._u([t.$store.state.isLoggedIn?{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""}},r),[n("v-avatar",[n("img",{attrs:{src:t.$store.state.currentUser.avatar,alt:"Avatar"}})])],1)]}}:{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{color:"blue-grey darken-1"}},r),[n("v-icon",[t._v("mdi-login")]),t._v(" Login ")],1)]}}],null,!0)},[n("v-list",[t.$store.state.isLoggedIn?t._e():n("v-list-item",{attrs:{link:"",href:"/auth/google"}},[n("v-list-item-title",[t._v("Google")])],1),t.$store.state.isLoggedIn?n("v-list-item",{attrs:{link:"",href:"/auth/logout"}},[n("v-list-item-title",[t._v("Logout")])],1):t._e()],1)],1)],1)],1)},c=[],u={name:"NavigationDrawer",data:function(){return{drawer:!1}}},l=u,v=n("2877"),d=n("6544"),f=n.n(d),m=n("40dc"),h=n("5bc1"),p=n("8212"),g=n("8336"),b=n("132d"),y=n("8860"),w=n("da13"),_=n("1800"),k=n("5d23"),x=n("e449"),V=n("f774"),$=n("2fa4"),j=n("2a7f"),O=Object(v["a"])(l,s,c,!1,null,null,null),C=O.exports;f()(O,{VAppBar:m["a"],VAppBarNavIcon:h["a"],VAvatar:p["a"],VBtn:g["a"],VIcon:b["a"],VList:y["a"],VListItem:w["a"],VListItemAction:_["a"],VListItemContent:k["a"],VListItemTitle:k["b"],VMenu:x["a"],VNavigationDrawer:V["a"],VSpacer:$["a"],VToolbarTitle:j["a"]});n("d3b7");var E=n("5530"),S=n("d4ec"),T=n("bee2"),I=function(){function t(){Object(S["a"])(this,t)}return Object(T["a"])(t,null,[{key:"getUser",value:function(){return new Promise((function(t,e){fetch("/api/user",{method:"GET",cache:"no-cache",credentials:"include"}).then((function(t){if(t.ok)return t.json()})).then((function(e){return t(Object(E["a"])({},e))})).catch((function(t){return e(t)}))}))}}]),t}(),D=I,G={name:"App",components:{NavigationDrawer:C},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.getUser();case 3:n=e.sent,0!=Object.keys(n).length&&n.constructor===Object?t.$store.dispatch("signIn",n):t.$store.dispatch("signOut"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},L=G,R=n("7496"),B=n("a75b"),M=Object(v["a"])(L,a,i,!1,null,null,null),P=M.exports;f()(M,{VApp:R["a"],VContent:B["a"]});var q=n("8c4f"),A=n("2f62");r["a"].use(A["a"]);var U=new A["a"].Store({state:{isLoggedIn:!1,currentUser:null},mutations:{signIn:function(t,e){t.isLoggedIn=!0,t.currentUser=e},signOut:function(t){t.isLoggedIn=!1,t.currentUser=null},setToken:function(t,e){t.csrfToken=e}},actions:{signIn:function(t,e){t.commit("signIn",e)},signOut:function(t){t.commit("signOut")}}}),F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",{staticClass:"pa-5",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"auto"}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"auto"}},[r("img",{attrs:{src:n("bfda"),alt:"logo",height:"250px"}})])],1),r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"auto"}},[r("h1",{staticClass:"display-2 text-center"},[t._v("Headline Goes Here")]),r("p",{staticClass:"headline font-weight-light text-center"},[t._v("Subheading goes here")])])],1),r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"auto"}},[r("v-btn",{staticClass:"ma-2",attrs:{color:"primary",to:{name:"Entry"}}},[r("v-icon",[t._v("mdi-brain")]),t._v(" Take a guess ")],1),r("v-btn",{staticClass:"ma-2",attrs:{to:{name:"Guess"}}},[r("v-icon",[t._v("mdi-table")]),t._v(" View the guesses ")],1)],1)],1)],1)],1)],1)},H=[],N={name:"Home"},W=N,J=n("62ad"),Y=n("a523"),z=n("0fd9"),K=Object(v["a"])(W,F,H,!1,null,null,null),Q=K.exports;f()(K,{VBtn:g["a"],VCol:J["a"],VContainer:Y["a"],VIcon:b["a"],VRow:z["a"]});var X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-col",[n("h1",[t._v("Guesses So Far")])])],1),n("v-row",[n("v-col",[n("Submissions")],1)],1)],1)},Z=[],tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v("Guessed By")]),n("th",{staticClass:"text-left"},[t._v("Guessed On")]),n("th",{staticClass:"text-left"},[t._v("Baby's Birthday")]),n("th",{staticClass:"text-left"},[t._v("Baby's Arrival Time")]),n("th",{staticClass:"text-left"},[t._v("Baby's Weight (g)")]),t.$store.state.isLoggedIn?n("th",{staticClass:"text-left"},[t._v(" Delete ")]):t._e()])]),n("tbody",t._l(t.guesses,(function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.author))]),n("td",[t._v(t._s(t.shortDate(e.createdAt)))]),n("td",[t._v(t._s(t.longDate(e.birthday+"T05:00:00")))]),n("td",[t._v(t._s(e.time))]),n("td",[t._v(t._s(e.weight))]),n("td",[e.author==t.userExists?n("v-icon",{on:{click:function(n){return t.confirmRemove(e._id)}}},[t._v(" mdi-delete ")]):t._e()],1)])})),0)]},proxy:!0}])}),n("div",{staticClass:"text-center"},[n("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline lighten-2",attrs:{"primary-title":""}},[t._v(" Delete this guess? ")]),n("v-card-text",[t._v(" This action cannot be reversed. ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"error",absolute:!0,left:""},on:{click:function(e){return t.remove()}}},[t._v(" Yes, delete ")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.cancelRemove()}}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)},et=[],nt=(n("4de4"),n("b0c0"),n("d81d"),"/api/guess"),rt=function(){function t(){Object(S["a"])(this,t)}return Object(T["a"])(t,null,[{key:"getData",value:function(){return new Promise((function(t,e){fetch(nt).then((function(t){return t.json()})).then((function(e){t(e.map((function(t){return Object(E["a"])({},t)})))})).catch((function(t){e(t)}))}))}},{key:"postGuess",value:function(t){return fetch(nt+"/new",{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).catch((function(t){return new Error(t)}))}},{key:"deleteGuess",value:function(t){return fetch("".concat(nt,"/").concat(t),{method:"DELETE",cache:"no-cache"}).then((function(t){return t.json()})).catch((function(t){return new Error(t)}))}}]),t}(),at=rt,it={name:"Submissions",data:function(){return{guesses:[],error:null,dialog:!1,pendingRemove:null}},computed:{userExists:function(){return null==this.$store.state.currentUser?"":this.$store.state.currentUser.name}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,at.getData();case 3:t.guesses=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.error=e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},methods:{confirmRemove:function(t){this.pendingRemove=t,this.dialog=!0},remove:function(){var t=this;this.dialog=!1;var e=this.pendingRemove;at.deleteGuess(e).then((function(){t.guesses=t.guesses.filter((function(t){return t._id!=e})),t.pendingRemove=null}))},cancelRemove:function(){this.pendingRemove=null,this.dialog=!1},shortDate:function(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(new Date(t))},longDate:function(t){return new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric"}).format(new Date(t))}}},ot=it,st=n("b0af"),ct=n("99d9"),ut=n("169a"),lt=n("ce7e"),vt=n("1f4f"),dt=Object(v["a"])(ot,tt,et,!1,null,null,null),ft=dt.exports;f()(dt,{VBtn:g["a"],VCard:st["a"],VCardActions:ct["a"],VCardText:ct["b"],VCardTitle:ct["c"],VDialog:ut["a"],VDivider:lt["a"],VIcon:b["a"],VSimpleTable:vt["a"],VSpacer:$["a"]});var mt={name:"Guess",components:{Submissions:ft}},ht=mt,pt=Object(v["a"])(ht,X,Z,!1,null,null,null),gt=pt.exports;f()(pt,{VCol:J["a"],VContainer:Y["a"],VRow:z["a"]});var bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"auto"}},[n("h1",[t._v("Feeling Lucky?")]),n("p",[t._v("Step right up and make yer picks!")])])],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"auto"}},[n("GuessForm")],1)],1)],1)},yt=[],wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{attrs:{loading:t.loading}},[n("v-form",{staticClass:"pa-2"},[n("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{label:"Baby's birthday?","prepend-icon":"mdi-cake",readonly:"","error-messages":t.birtdayErrors},on:{input:function(e){return t.$v.birthday.$touch()},blur:function(e){return t.$v.birthday.$touch()}},model:{value:t.birthday,callback:function(e){t.birthday=e},expression:"birthday"}},r))]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[n("v-date-picker",{on:{input:function(e){t.dateMenu=!1}},model:{value:t.birthday,callback:function(e){t.birthday=e},expression:"birthday"}})],1),n("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{label:"Baby's birth time?","prepend-icon":"mdi-clock",readonly:"","error-messages":t.timeErrors},on:{input:function(e){return t.$v.time.$touch()},blur:function(e){return t.$v.time.$touch()}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},r))]}}]),model:{value:t.timeMenu,callback:function(e){t.timeMenu=e},expression:"timeMenu"}},[n("v-time-picker",{on:{input:function(e){t.timeMenu=!1}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),n("v-text-field",{attrs:{label:"Baby's birth weight?","prepend-icon":"mdi-weight",suffix:"grams","error-messages":t.weightErrors},on:{input:function(e){return t.$v.weight.$touch()},blur:function(e){return t.$v.weight.$touch()}},model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})],1),n("v-card-actions",[n("v-btn",{attrs:{color:"success",text:""},on:{click:function(e){return t.submit()}}},[t._v(" Submit ")]),n("v-btn",{attrs:{color:"error",text:"",absolute:!0,right:""},on:{click:function(e){return t.clear()}}},[t._v(" Reset ")])],1)],1),n("v-snackbar",{attrs:{top:"",color:"success",timeout:6e3},model:{value:t.snackbarSuccess,callback:function(e){t.snackbarSuccess=e},expression:"snackbarSuccess"}},[n("v-icon",{attrs:{color:"#fff"}},[t._v("mdi-checkbox-marked-circle")]),t._v(" Guess saved! "),n("v-btn",{attrs:{text:"",to:{name:"Guess"}}},[t._v(" View guesses ")])],1),n("v-snackbar",{attrs:{top:"",color:"error",timeout:6e3},model:{value:t.snackbarError,callback:function(e){t.snackbarError=e},expression:"snackbarError"}},[n("v-icon",{attrs:{color:"#fff"}},[t._v("mdi-emoticon-sad-outline")]),t._v(" Oh snap! Someting went wrong! ")],1)],1)},_t=[],kt=n("1dce"),xt=n("b5ae"),Vt={mixins:[kt["validationMixin"]],name:"GuessForm",data:function(){return{dateMenu:!1,timeMenu:!1,birthday:"",time:"",weight:"",loading:!1,snackbarSuccess:!1,snackbarError:!1}},computed:{birtdayErrors:function(){var t=[];return this.$v.birthday.$dirty?(!this.$v.birthday.required&&t.push("Birthday is required."),t):t},timeErrors:function(){var t=[];return this.$v.time.$dirty?(!this.$v.time.required&&t.push("Time is required."),t):t},weightErrors:function(){var t=[];return this.$v.weight.$dirty?(!this.$v.weight.between&&t.push("Weight can only range from 2000 to 8000 grams"),!this.$v.weight.required&&t.push("Weight is required."),t):t}},validations:{birthday:{required:xt["required"]},time:{required:xt["required"]},weight:{required:xt["required"],between:Object(xt["between"])(2e3,8e3)}},methods:{submit:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(this.loading=!0,at.postGuess({author:this.$store.state.currentUser.name,birthday:this.birthday,time:this.time,weight:this.weight,_csrf:this.$store.state.csrfToken}).then((function(e){e.ok?setTimeout((function(){t.loading=!1,t.snackbarSuccess=!0,t.clear()}),2e3):setTimeout((function(){t.loading=!1,t.snackbarError=!0,t.clear()}),2e3)})).catch((function(e){console.log(e),setTimeout((function(){t.loading=!1,t.snackbarError=!0,t.clear()}),2e3)})))},clear:function(){this.$v.$reset(),this.birthday="",this.time="",this.weight=""}}},$t=Vt,jt=n("2e4b"),Ot=n("4bd4"),Ct=n("2db4"),Et=n("8654"),St=n("c964"),Tt=Object(v["a"])($t,wt,_t,!1,null,null,null),It=Tt.exports;f()(Tt,{VBtn:g["a"],VCard:st["a"],VCardActions:ct["a"],VDatePicker:jt["a"],VForm:Ot["a"],VIcon:b["a"],VMenu:x["a"],VSnackbar:Ct["a"],VTextField:Et["a"],VTimePicker:St["a"]});var Dt={name:"Entry",components:{GuessForm:It}},Gt=Dt,Lt=Object(v["a"])(Gt,bt,yt,!1,null,null,null),Rt=Lt.exports;f()(Lt,{VCol:J["a"],VContainer:Y["a"],VRow:z["a"]});var Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"auto"}},[n("h1",{staticClass:"display-2 text-center"},[t._v(" You're one step away from taking your guess! ")]),n("p",{staticClass:"headline font-weight-light text-center"},[t._v(" We require a social sign in to prevent abuse ")])])],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"auto"}},[n("v-btn",{staticClass:"mb-3",attrs:{color:"red",block:"",dark:"",href:"/auth/google"}},[t._v(" Sign in with Google ")])],1)],1)],1)},Mt=[],Pt={name:"Login"},qt=Pt,At=Object(v["a"])(qt,Bt,Mt,!1,null,null,null),Ut=At.exports;f()(At,{VBtn:g["a"],VCol:J["a"],VContainer:Y["a"],VRow:z["a"]}),r["a"].use(q["a"]);var Ft=[{path:"/",name:"Home",component:Q},{path:"/view",name:"Guess",component:gt},{path:"/guess",name:"Entry",component:Rt,beforeEnter:function(t,e,n){U.state.isLoggedIn?n():Ht.push({name:"Login"})}},{path:"/login",name:"Login",component:Ut}],Ht=new q["a"]({mode:"history",base:"/",routes:Ft}),Nt=Ht,Wt=n("f309");r["a"].use(Wt["a"]);var Jt=new Wt["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:Nt,store:U,vuetify:Jt,render:function(t){return t(P)}}).$mount("#app")},bfda:function(t,e,n){t.exports=n.p+"img/stork.821271fc.png"}});
//# sourceMappingURL=app.e9d457a9.js.map